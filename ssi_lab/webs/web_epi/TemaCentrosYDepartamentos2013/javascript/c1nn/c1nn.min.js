var c1nnModule=(function(){var m=700;var b=0;var g=null;var i=function(w){var x=w.eq(0).height(),u=-1;for(var v=1,t=w.length;v<t;v++){u=w.eq(v).height();x=u>x?u:x}return x};var l=function(){$jq(window).resize(function(){if(this.resizeTO){clearTimeout(this.resizeTO)}this.resizeTO=setTimeout(function(){$jq(this).trigger("resizeEnd")},250)})};var a=function(t){t.preventDefault();$jq(t.target).closest(".tooltip").fadeOut(400)};var e=function(){$jq(window).on("resizeEnd",function(){if($jq(window).width()>m){c()}})};var d=function(){$jq(window).on("resizeEnd",function(){if($jq(window).width()>m){r()}})};var c=function(){var t=$jq("#contenidoCentral").find(".listado");t.find(".imagen").height("auto");t.find("h3").height("auto");t.find(".resumen").height("auto");c1nnModule.alturaFilasLista(t.find(".imagen"),b);c1nnModule.alturaFilasLista(t.find("h3"),b);c1nnModule.alturaFilasLista(t.find(".resumen"),b)};var r=function(){var t=$jq("#contenidoCentral").find(".listado");t.find(".resumen").height("auto");t.find("h3").height("auto");t.find(".medio").height("auto");c1nnModule.alturaFilasLista(t.find(".resumen"),b);c1nnModule.alturaFilasLista(t.find("h3"),b);c1nnModule.alturaFilasLista(t.find(".medio"),b)};var n=function(u){u.preventDefault();var t=$jq(this).closest(".bloqueDesplegar").find(".contenidoDesplegar");t.stop(true,true).slideToggle(400);$jq(this).toggleClass("plegado desplegado")};var s=function(t){t.preventDefault();window.location=$jq(this).find("a:visible").attr("href")};var k=function(){return(Liferay.Browser.isIe()&&Liferay.Browser.getMajorVersion()===9)};var q=function(w){var v=w.find(".tablaPersonal").eq(0).find("td");for(var u=0,t=v.length;u<t;u++){if(v.eq(u).html().trim().length===0){v.eq(u).remove()}}};var p=function(t){t.preventDefault()};var h=function(u){u.preventDefault();var t;if(g===null){t=$jq(u.target).next(".campoOculto")}else{t=g(u.target)}t.stop(true,true).slideToggle(400);$jq(u.target).toggleClass("plegado desplegado")};var j=function(){setInterval(function(){var w=$jq(".ui-datatable"),v=w.find(".dropdown-menu");for(var u=0,t=v.length;u<t;u++){if(v.eq(u).parent(".dropdown").length===0){w.trigger("tableReloaded");return}}},300)};var f=function(){$jq("#contenidoCentral").delegate(".ui-datatable","tableReloaded",function(){o()})};var o=function(){var y=null,A=null,u=null,v=null,z=$jq("body").hasClass("es")?"Opciones":"Actions",x=null;y=$jq(".dropdown-menu");for(var w=0,t=y.length;w<t;w++){x=y.eq(w);if(x.parent(".dropdown").length===0){u=x.closest("tr").find("td").index(x.closest("td")),v=$jq.trim(x.closest("table").find("th").eq(u).text());v=v?v:z;A=$jq('<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">'+v+'<span class="caret"></span></button>');x.attr("role","menu").wrap('<div class="btn-group dropdown"></div>').before(A);x.find("a[href=#]").on("click",p)}}};return{alturaFilasLista:function(w,y){var v,x=0;for(var u=0,t=w.length;u<t;u+=y){v=w.slice(u,u+y);x=i(v);v.height(x)}},noticias:function(t){b=t;c();l();e()},prensa:function(t){b=t;r();l();d()},convertirEnGaleria:function(t){$jq(t).addClass("galeriaImagenes")},convierteUlPersonalEnTabla:function(t,w){var x=$jq("#contenidoCentral").find(".personal"),G=$jq("#contenidoCentral").find(".listado"),F=G.parent(),v=[],D=null,u=($jq("body").hasClass("es"))?t:w;if(x.length&&G.length){G.hide();v.push("<thead><tr>");for(var z=0,y=u.length;z<y;z++){v.push('<th scope="col">'+u[z]+"</th>")}v.push("</thead><tbody>");for(var B=0,C=x.length;B<C;B++){D=x.eq(B).find("li");v.push("<tr>");for(var A=0,E=D.length;A<E;A++){v.push("<td>"+D.eq(A).html()+"</td>")}v.push("</tr>")}F.prepend('<table class="tablaPersonal" summary="Datos de personal">'+v.join("")+"</tbody></table>");F.find(".tablaPersonal").delegate("tr","click",s);if(k){q(F)}}},plegadoDesplegado:function(){var t=$jq("#contenidoCentral").find(".bloqueDesplegar"),u=t.find(".listaDesplegar"),v=t.find(".contenidoDesplegar");v.hide();u.wrapInner('<a class="enlacePlegado plegado" href="#" title="Ver detalle"></a>');u.delegate(".enlacePlegado","click",n)},gestionarDropdownTablas:function(){j();f()},plegadoDesplegadoGenerico:function(u,v,t,w){g=w;u.hide();if(!v.eq(0).is("a")){u.prev().wrapInner('<a class="enlacePlegadoDesplegado plegado" href="#" title="Ver detalle"></a>')}else{v.addClass("enlacePlegadoDesplegado plegado")}t.delegate(".enlacePlegadoDesplegado","click",h)},tooltip:function(u,v){var t=$jq('<div class="tooltip"><a href="#" class="closeTooltip">x</a><p>'+u+"</p></div>"),x=v.offset().left,w=v.offset().top;$jq("body").append(t);t.css({left:x,top:w-t.height()-35});t.find(".closeTooltip").on("click",a)},plegadoDesplegadoFiltrado:function(){var x=$jq("#contenidoCentral").find(".lfr-portlet-column .portlet-boundary"),y=0,w=$jq('<a class="enlacePlegadoDesplegadoFiltros" href="#" title="Plegar/desplegar filtros">Filtrar</a>'),u=null;var v=0,t=x.length;while((v<t)&&(y===0)){if((x.eq(v).find(".listado").length)||(x.eq(v).text().indexOf("No hay resultados")!==-1)){y=v}v++;if(v===t){y=v}}x=x.slice(0,y);x.wrapAll('<div class="filtros campoOculto" />');u=$jq("#contenidoCentral").find(".filtros");if(u.length){if(u.find("li.actual").length===0){u.hide();w.addClass("plegado")}else{w.addClass("desplegado")}w.insertBefore(u);w.on("click",h)}}}})();